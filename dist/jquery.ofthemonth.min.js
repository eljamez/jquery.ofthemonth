!function(a){a.fn.ofthemonth=function(b){var c=a.extend({},a.fn.ofthemonth.defaults,b),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e=new Date,f=new Date(e.getFullYear(),e.getMonth(),1),g=new Date(e.getFullYear(),e.getMonth()+1,0),h=new Date(e.getFullYear(),e.getMonth()+1,1),i=new Date(e.getFullYear(),e.getMonth()+2,0),j=new Date,k=[],l=[],m=new Date,n=new Date,o=new Date;for(o=f;g>=o;o.setDate(o.getDate()+1))e>o?d[o.getDay()]===c.whichDay&&k.push(new Date(o)):d[o.getDay()]===c.whichDay&&k.push(new Date(o));for(o=h;i>=o;o.setDate(o.getDate()+1))d[o.getDay()]===c.whichDay&&l.push(new Date(o));switch(c.whichWeek){case"first":m=k[0],n=l[0];break;case"second":m=k[1],n=l[1];break;case"third":m=k[2],n=l[2];break;case"fourth":m=k[3],n=l[3];break;case"second_to_last":m=k[k.length-2],n=l[l.length-2];break;case"last":m=k[k.length-1],n=l[l.length-1];break;default:m=k[k.length-1],n=l[l.length-1]}return j=m>e?m:n,m.getDay()===e.getDay()&&m.getDate()===e.getDate()&&(j=e),j}}(jQuery),$.fn.ofthemonth.defaults={whichDay:"Friday",whichWeek:"last"};