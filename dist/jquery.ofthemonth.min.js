!function(a){a.fn.ofthemonth=function(b){for(var c=a.extend({},a.fn.ofthemonth.defaults,b),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=new Date,g=new Date(f.getFullYear(),f.getMonth(),1),h=new Date(f.getFullYear(),f.getMonth()+1,0),i=new Date(f.getFullYear(),f.getMonth()+1,1),j=new Date(f.getFullYear(),f.getMonth()+2,0),k=new Date,n=(f.getMonth(),k.getMonth()+1,[]),o=[],p=new Date,q=new Date,r=g;h>=r;r.setDate(r.getDate()+1))f>r?d[r.getDay()]==c.which_day&&n.push(new Date(r)):d[r.getDay()]==c.which_day&&n.push(new Date(r));for(var r=i;j>=r;r.setDate(r.getDate()+1))d[r.getDay()]==c.which_day&&o.push(new Date(r));switch(c.which_week){case"first":p=n[0],q=o[0];break;case"second":p=n[1],q=o[1];break;case"third":p=n[2],q=o[2];break;case"fourth":p=n[3],q=o[3];break;case"second_to_last":p=n[n.length-2],q=o[o.length-2];break;case"last":p=n[n.length-1],q=o[o.length-1];break;default:p=n[n.length-1],q=o[o.length-1]}return k=p>f?p:q,p.getDay()==f.getDay()&&p.getDate()==f.getDate()&&(k=f),k}}(jQuery),$.fn.ofthemonth.defaults={which_day:"Friday",which_week:"last"};